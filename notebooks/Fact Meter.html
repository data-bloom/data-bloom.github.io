<meta charset="utf-8" />
    <title>Fact Meter</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link rel="shortcut icon" href="bloom.ico" type="image/x-icon">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">
        {
            {
                css
            }
        }
    </style>
    <style type="text/css">
        {
            {
                css
            }
        }
    </style>
    <style type="text/css">
        {
            {
                css
            }
        }
    </style>
    

    <!-- Can put analytics code here, if desired -->

    <style type="text/css">
        /* Overrides of notebook CSS for static HTML export */
        
        body {
            overflow: visible;
            padding: 8px;
        }
        
        div#notebook {
            overflow: visible;
            border-top: none;
        }
        
        @media print {
            div.cell {
                display: block;
                page-break-inside: avoid;
            }
            div.output_wrapper {
                display: block;
                page-break-inside: avoid;
            }
            div.output {
                display: block;
                page-break-inside: avoid;
            }
        }
    </style>

    <link rel="stylesheet" href="/css/five.css">
    <link rel="stylesheet" href="ipynb.css">
    <!-- Loading mathjax macro -->
    <!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration -->
    <!-- Navigation -->
    <div class="container row">
        <a class="pull-right navbar-brand" href="http://data-bloom.com">Data Bloom</a>
    </div>
    <div tabindex="-1" id="notebook" class="border-box-sizing">
        <div class="container" id="notebook-container">
            
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Factometer">Factometer<a class="anchor-link" href="#Factometer">&#182;</a></h1><p>There is a tremendous amount of textual information on the Web. When material facts are trumped by the "alternative facts" and opinions, wading through the discourse can be extremely difficult for the consumers. Underneath, we show very simple fact-o-meter so reader's cognition can focus on facts quickly. Whether you are a media company, an information company, or just an enterprise business building collaboration portals, helping sift opinions from facts with simple iconography can be tremendously useful; helping summarize content can mean productivity and experience gains for the customer.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># The URL of the whitehouse executive order</span>
<span class="n">uri</span> <span class="o">=</span> <span class="s1">&#39;https://www.whitehouse.gov/the-press-office/2017/01/27/executive-order-protecting-nation-foreign-terrorist-entry-united-states&#39;</span>

<span class="c1"># Fetch the web page</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">lxml.html</span>

<span class="c1"># Get the document from a URI</span>
<span class="n">dom</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">uri</span><span class="p">:</span> <span class="n">lxml</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># The executive order HTML content; document object model</span>
<span class="n">exec_order_from_potus</span> <span class="o">=</span> <span class="n">dom</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Executive-Order-Preview">Executive Order Preview<a class="anchor-link" href="#Executive-Order-Preview">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Convert into TextBlob for analysis</span>
<span class="kn">from</span> <span class="nn">textblob</span> <span class="kn">import</span> <span class="n">TextBlob</span>

<span class="c1"># Apply XPath to avoid all the boilerplate text from whitehouse.gov</span>
<span class="n">discourse</span> <span class="o">=</span> <span class="n">TextBlob</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
    <span class="n">para</span>
    <span class="k">for</span> <span class="n">para</span> <span class="ow">in</span> <span class="n">exec_order_from_potus</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span>
        <span class="s1">&#39;//*[@id=&quot;content-start&quot;]/div[3]/div/div//text()&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">para</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="p">]))</span>

<span class="c1"># Print preview of the executive order</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">discourse</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br/&gt;&#39;</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-Keywords">The Keywords<a class="anchor-link" href="#The-Keywords">&#182;</a></h2><p>What keywords can be gleaned from the order? Let us portray a wordcloud of all the noun mentions</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Some imports</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">wordcloud</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c1"># Get a mask of the whitehouse image to paint our wordcloud in</span>
<span class="n">whitehouse_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://static.vecteezy.com/system/resources/previews/000/057/818/non_2x/the-white-house-vector.jpg&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">)))</span>
<span class="n">extent</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">490</span>

<span class="c1"># Initialize a cloud palette</span>
<span class="n">cloud_wh</span> <span class="o">=</span> <span class="n">wordcloud</span><span class="o">.</span><span class="n">WordCloud</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">490</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">whitehouse_mask</span><span class="p">)</span>
<span class="n">cloud_sq</span> <span class="o">=</span> <span class="n">wordcloud</span><span class="o">.</span><span class="n">WordCloud</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">490</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="c1"># Generate the word cloud in the whitehouse overlay</span>
<span class="n">cloud_wh</span><span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">discourse</span><span class="o">.</span><span class="n">np_counts</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="n">cloud_sq</span><span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">discourse</span><span class="o">.</span><span class="n">np_counts</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span><span class="mf">9.8</span><span class="p">))</span>
<span class="c1"># Show a preview of the nouns from the executive order; paint it in a whitehouse silhouette</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">whitehouse_mask</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">extent</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cloud_wh</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">gray</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.98</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">extent</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

<span class="c1"># Also show the raw word cloud</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cloud_sq</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Sentiment-Polarity,-Objectivity,-Modality,-and-Number-of-Nouns-of-each-Sentence">Sentiment Polarity, Objectivity, Modality, and Number of Nouns of each Sentence<a class="anchor-link" href="#Sentiment-Polarity,-Objectivity,-Modality,-and-Number-of-Nouns-of-each-Sentence">&#182;</a></h2><p>For each sentence (tile or para/chunk), give a modality score for its factuality vs opinion. The modality is a score between [-1, 1] which shows the "factual" (not opinionated) nature of a statement. Higher modality scores (&gt; 0.8) usually shows facts. Anything less is a dampened confidence in the factuality of the sentence.</p>
<p>The polarity score is a float within the range [-1.0, 1.0]. Negative values mean negative sentiment.</p>
<p>The subjectivity is a float within the range [0.0, 1.0] where 0.0 is very objective and 1.0 is very subjective. For facts, you want objectivity to be high, meaning look for values closer to 0.0.</p>
<p>Let us also identify all the sentences that carry a good noun quotient. Although this isn't a true summary generation, the quotient score must quickly reveal sentences worth closer attention.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">pattern.en</span> <span class="kn">import</span> <span class="n">parse</span><span class="p">,</span> <span class="n">Sentence</span><span class="p">,</span> <span class="n">parse</span>
<span class="kn">from</span> <span class="nn">pattern.en</span> <span class="kn">import</span> <span class="n">modality</span><span class="p">,</span> <span class="n">mood</span>

<span class="c1"># Get the noun_phrase occurence scores in each sentence</span>
<span class="n">np_scores</span> <span class="o">=</span> <span class="n">discourse</span><span class="o">.</span><span class="n">np_counts</span>

<span class="c1"># Exclude short sentences and extract some meaning</span>
<span class="c1"># Also compute noun score as a summary indicator</span>
<span class="c1"># You will see generation of sentiment polarity and subjectivity (sentiment)</span>
<span class="c1"># Similarly a mood and modality (aka how assertive a statement is)</span>
<span class="c1"># Similarly a quotient for the noun density in each sentence</span>
<span class="n">sentences</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">[(</span><span class="n">s</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">polarity</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">subjectivity</span><span class="p">,</span>
      <span class="n">mood</span><span class="p">(</span><span class="n">parse</span><span class="p">(</span>
          <span class="n">s</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">lemmata</span><span class="o">=</span><span class="bp">True</span><span class="p">)),</span> <span class="n">modality</span><span class="p">(</span><span class="n">parse</span><span class="p">(</span>
              <span class="n">s</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">lemmata</span><span class="o">=</span><span class="bp">True</span><span class="p">)),</span>
      <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np_scores</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="k">if</span> <span class="n">w</span><span class="o">.</span><span class="n">string</span> <span class="ow">in</span> <span class="n">np_scores</span> <span class="k">else</span> <span class="mi">0</span>
             <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">noun_phrases</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">noun_phrases</span><span class="p">))))</span>
     <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">discourse</span><span class="o">.</span><span class="n">sentences</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">words</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">],</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;Sentence&#39;</span><span class="p">,</span> <span class="s1">&#39;Polarity&#39;</span><span class="p">,</span> <span class="s1">&#39;Subjectivity&#39;</span><span class="p">,</span> <span class="s1">&#39;Mood&#39;</span><span class="p">,</span> <span class="s1">&#39;Modality&#39;</span><span class="p">,</span> <span class="s1">&#39;Nounity&#39;</span>
    <span class="p">])</span>

<span class="n">pd_display</span><span class="p">(</span><span class="n">sentences</span><span class="p">,</span> <span class="s2">&quot;Sentences scored&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In order to decompose the scores, it is best to show individual sentiment, modality scores with simple examples.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Some tests to show if the intended functions/metrics are correct</span>

<span class="c1"># A negative sentiment</span>
<span class="n">tblob_sentiment</span> <span class="o">=</span> <span class="n">TextBlob</span><span class="p">(</span><span class="s2">&quot;I think it is cold hearted&quot;</span><span class="p">)</span>

<span class="c1"># A very assertive opinion</span>
<span class="n">tblob_fact</span> <span class="o">=</span> <span class="n">TextBlob</span><span class="p">(</span><span class="s2">&quot;It is hot in summer&quot;</span><span class="p">)</span>

<span class="c1"># A simple sentence with nouns</span>
<span class="n">tblob_nouns</span> <span class="o">=</span> <span class="n">TextBlob</span><span class="p">(</span>
    <span class="s2">&quot;Donald J. Trump is the President of the United States of America&quot;</span><span class="p">)</span>

<span class="c1"># Sentiment first</span>
<span class="n">display</span><span class="p">(</span>
    <span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;The polarity and subjectivity of the &lt;u&gt;&quot;{0}&quot;&lt;/u&gt; is {1} and {2}&#39;</span><span class="o">.</span>
         <span class="n">format</span><span class="p">(</span><span class="n">tblob_sentiment</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">tblob_sentiment</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">polarity</span><span class="p">,</span>
                <span class="n">tblob_sentiment</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">subjectivity</span><span class="p">)))</span>

<span class="c1"># Modality second</span>
<span class="n">display</span><span class="p">(</span>
    <span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;The mood and modality of the &lt;u&gt;&quot;{0}&quot;&lt;/u&gt; is {1} and {2}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">tblob_fact</span><span class="o">.</span><span class="n">string</span><span class="p">,</span>
        <span class="n">mood</span><span class="p">(</span><span class="n">parse</span><span class="p">(</span>
            <span class="n">tblob_fact</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">lemmata</span><span class="o">=</span><span class="bp">True</span><span class="p">)),</span>
        <span class="n">modality</span><span class="p">(</span><span class="n">parse</span><span class="p">(</span>
            <span class="n">tblob_fact</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">lemmata</span><span class="o">=</span><span class="bp">True</span><span class="p">)))))</span>

<span class="c1"># Nouns third</span>
<span class="n">display</span><span class="p">(</span>
    <span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;The key entities of &lt;u&gt;&quot;{0}&quot;&lt;/u&gt; are {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">tblob_nouns</span><span class="o">.</span><span class="n">string</span><span class="p">,</span> <span class="n">tblob_nouns</span><span class="o">.</span><span class="n">noun_phrases</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Normalize-Scores-for-Rendering">Normalize Scores for Rendering<a class="anchor-link" href="#Normalize-Scores-for-Rendering">&#182;</a></h2><p>The TFIDF scores from the original executive order are not normalized. The TextBlob normalizes some scores; still the different ranges, some are [-1, 1] and others are [0, 1], make it hard for interpretation. Let us normalize all the scores to a [0, 1] scale.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">preprocessing</span>

<span class="n">min_max_scaler</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">MinMaxScaler</span><span class="p">()</span>

<span class="n">sentence_characteristics</span> <span class="o">=</span> <span class="n">sentences</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">])</span>

<span class="n">scored_sentences</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">sentences</span><span class="p">[[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">sentences</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sentence_characteristics</span><span class="o">.</span><span class="n">columns</span><span class="p">]],</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">min_max_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">sentence_characteristics</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">sentence_characteristics</span><span class="o">.</span><span class="n">columns</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">pd_display</span><span class="p">(</span><span class="n">scored_sentences</span><span class="p">,</span> <span class="s2">&quot;Sentence scores normalized to a unit scale&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Facts-from-the-Order">Facts from the Order<a class="anchor-link" href="#Facts-from-the-Order">&#182;</a></h2><p>Facts - aka where modality &gt; 0.8</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
    <span class="s1">&#39;&lt;span style=&quot;color:{1}&quot;&gt;{0}&lt;/span&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Sentence&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
            <span class="s1">&#39;ascii&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br/&gt;&#39;</span><span class="p">),</span>
        <span class="s2">&quot;black&quot;</span> <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Modality&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.75</span> <span class="ow">and</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Mood&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;imperative&#39;</span> <span class="k">else</span>
        <span class="s2">&quot;gray&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="n">scored_sentences</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()</span>
<span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Positive-Sentiment">Positive Sentiment<a class="anchor-link" href="#Positive-Sentiment">&#182;</a></h2><p>Phrases - aka where Polarity &gt; 0.75</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
    <span class="s1">&#39;&lt;span style=&quot;color:{1}&quot;&gt;{0}&lt;/span&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Sentence&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
            <span class="s1">&#39;ascii&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br/&gt;&#39;</span><span class="p">),</span>
        <span class="s2">&quot;black&quot;</span> <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Polarity&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="s2">&quot;gray&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="n">scored_sentences</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()</span>
<span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Subjective-Opinions-of-the-Author">Subjective Opinions of the Author<a class="anchor-link" href="#Subjective-Opinions-of-the-Author">&#182;</a></h2><p>Phrases - aka where Subjectivity &gt; 0.75</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
    <span class="s1">&#39;&lt;span style=&quot;color:{1}&quot;&gt;{0}&lt;/span&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Sentence&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
            <span class="s1">&#39;ascii&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br/&gt;&#39;</span><span class="p">),</span>
        <span class="s2">&quot;black&quot;</span> <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Subjectivity&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="s2">&quot;gray&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="n">scored_sentences</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()</span>
<span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Summary-Display">Summary Display<a class="anchor-link" href="#Summary-Display">&#182;</a></h2><p>Aka where nounity &gt;= 0.75</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
    <span class="s1">&#39;&lt;span style=&quot;color:{1}&quot;&gt;{0}&lt;/span&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Sentence&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
            <span class="s1">&#39;ascii&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;br/&gt;&#39;</span><span class="p">),</span>
        <span class="s2">&quot;black&quot;</span> <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Nounity&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="s2">&quot;gray&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="n">scored_sentences</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()</span>
<span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Symbolic-Markers">Symbolic Markers<a class="anchor-link" href="#Symbolic-Markers">&#182;</a></h2><p>While the above is not comprehensive, you can imagine how one may use the polarity, subjectivity, entity scores, mood, and modality to highlight specific areas of text. Without the highlights or iconographic flags (like cell-signal bars) on the text, the text becomes monotonous blobs of content demanding cognitive intelligence from the consumers at the onset versus the perceptional intelligence (overview-first-zoom-next) first.</p>

</div>
</div>
</div>
        </div>
    </div>
    <footer>
        <div class="container row">
            <div class="pull-right"> <span class="copyright">Copyright © 2017. <a href="http://data-bloom.com">Data-Bloom</a></span></div>
        </div>
    </footer>

</html>
